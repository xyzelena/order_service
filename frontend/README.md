# Frontend - Order Service

Современный модульный веб-интерфейс для поиска и отображения информации о заказах.

## Описание

Веб-интерфейс для взаимодействия с Order Service API, построенный на модульной архитектуре ES6. 
Позволяет искать заказы по ID и отображает полную информацию в удобном формате.

## Функциональность

- **Поиск заказов** - поиск по order_uid с валидацией
- **Детальная информация** - информация о заказе, доставке, платеже и товарах
- **Дополнительные функции** - статистика кеша, список заказов, проверка здоровья сервиса
- **Адаптивный дизайн** - корректное отображение на всех устройствах
- **Быстрый доступ** - автоматический fallback на базу данных при отсутствии в кеше
- **Модульная архитектура** - разделение на независимые ES6 модули
- **UI** - интерфейс с анимациями и градиентами

## Технологический стек

- **HTML5** - семантическая разметка
- **CSS3** - стили с CSS Grid и Flexbox
- **ES6 Modules** - модульная архитектура JavaScript
- **Vanilla JavaScript** - без фреймворков, чистый JavaScript
- **Fetch API** - для HTTP запросов
- **CSS Variables** - для управления темой
- **Google Fonts** - применен шрифт Inter

## Структура файлов

```
frontend/
├── index.html              # Главная страница
├── styles/                 # CSS стили и анимации
│   └── main.css           
├── scripts/                # JavaScript модули
│   ├── main.js            # Основная логика приложения
│   ├── api.js             # Модуль работы с API
│   ├── orderRenderer.js   # Модуль отображения заказов
│   ├── modal.js           # Модуль модальных окон
│   ├── notifications.js   # Модуль уведомлений
│   └── utils.js           # Вспомогательные функции форматирования
└── README.md               # Документация
```

## Быстрый старт

### Вариант 1: Простой HTTP сервер

```bash
# Python 3
cd frontend
python -m http.server 3000

# Или Python 2
python -m SimpleHTTPServer 3000

# Node.js (если установлен npx)
npx serve . -p 3000
```

### Вариант 2: Live Server (VS Code Extension)

1. Установите расширение "Live Server" в VS Code
2. Откройте `index.html`
3. Нажмите "Go Live" в статус-баре

### Вариант 3: Прямое открытие файла

Откройте `index.html` в браузере (некоторые функции могут не работать из-за CORS)

## API Integration

Frontend взаимодействует с backend API:
- **Base URL**: http://localhost:8081/api/v1
- **CORS**: Включен для всех origins
- **Формат**: JSON API с единообразной структурой ответов

### Используемые эндпоинты:

| Эндпоинт | Описание |
|----------|----------|
| `GET /orders/{order_uid}` | Получение заказа по ID |
| `GET /orders?limit=10` | Список заказов |
| `POST /orders/random` | Создание случайного заказа |
| `GET /cache/stats` | Статистика кеша |
| `GET /health` | Проверка здоровья сервиса |

## Модульная архитектура

Приложение разделено на независимые ES6 модули для лучшей организации и поддержки кода:

### Описание модулей:

- **`main.js`** - основная логика приложения, обработчики событий, управление состоянием UI
- **`api.js`** - все функции работы с API (поиск заказов, статистика, health check)
- **`orderRenderer.js`** - отображение информации о заказах, HTML шаблоны
- **`modal.js`** - управление модальными окнами
- **`notifications.js`** - система уведомлений пользователю
- **`utils.js`** - вспомогательные функции форматирования (даты, валюта, статусы)

### Преимущества модульной архитектуры:

- **Разделение ответственности** - каждый модуль отвечает за свою область
- **Переиспользование кода** - модули можно использовать в других проектах
- **Легкость тестирования** - каждый модуль можно тестировать независимо
- **Упрощенная поддержка** - изменения в одном модуле не влияют на другие
- **Читаемость кода** - логическое разделение функциональности

## Особенности интерфейса

### Главная форма поиска
- Валидация ввода order_uid
- Индикатор загрузки при выполнении запроса
- Автофокус на поле ввода
- Поддержка Enter для поиска

### Отображение заказа
- **Основная информация** - ID, трек-номер, клиент, дата
- **Доставка** - получатель, адрес, контакты
- **Платеж** - сумма, провайдер, банк, дата платежа
- **Товары** - название, бренд, цена, скидка, статус

### Дополнительные функции
- **Случайный заказ** - загрузка примера для демонстрации
- **Статистика кеша** - размер и использование кеша
- **Список заказов** - последние заказы с возможностью выбора
- **Проверка сервиса** - статус backend системы

## Отладка

### Частые проблемы:

1. **CORS ошибки**
   - Убедитесь, что backend запущен с включенным CORS
   - Используйте HTTP сервер вместо file:// протокола

2. **API недоступен**
   - Проверьте, что backend сервис запущен на порту 8081
   - Убедитесь в правильности API_BASE_URL

3. **Заказ не найден**
   - Проверьте правильность order_uid
   - Убедитесь, что в базе есть тестовые данные

## Примеры использования

### Поиск заказа
1. Введите `b563feb7b2b84b6test` в поле поиска
2. Нажмите "Найти заказ" или Enter
3. Просмотрите детальную информацию

### Просмотр статистики
1. Нажмите "Статистика кеша"
2. Изучите использование кеша в модальном окне

### Список заказов
1. Нажмите "Список заказов"
2. Выберите заказ из списка для его загрузки